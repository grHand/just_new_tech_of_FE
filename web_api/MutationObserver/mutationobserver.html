<meta charset="utf-8">
<div id="mb"></div>
<button>增加子元素</button>
<button>增加属性</button>
<script>
    'use strict'
    var MutationObserver = window.MutationObserver || window.WebKitMutationObserver || window.MozMutationObserver;

    var target = document.querySelector('#mb');
    var btns = document.querySelectorAll('button');
    
    var observer = new MutationObserver(function(mutations){
        mutations.forEach(function(mutation){
            console.log(mutation.type);
        });
    });
    var config  = {
        attributes: true,
        childList: true,
        characterData: true
    };
    observer.observe(target, config); 
    
    for(let i=0;i<btns.length;i++){
        btns[i].onclick = function(){
            if(i==0){
                target.appendChild(document.createTextNode('测试'));
            }else if(i==1){
                target.setAttribute('class', 'nihao');
            }     
        }
    }
    
</script>